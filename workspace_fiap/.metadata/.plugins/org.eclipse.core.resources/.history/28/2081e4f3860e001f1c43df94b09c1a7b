package com.fiap.TechChallengeFood.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import com.fiap.TechChallengeFood.model.Cliente;
import com.fiap.TechChallengeFood.repository.ClienteRepository;

@RestController
@RequestMapping("/clientes")
public class ClienteController {
	
	@Autowired
	ClienteRepository clienteRepository;
	
    @PostMapping("/cadastrar")
    public Cliente cadastrarCliente(@RequestBody Cliente cliente) {
    	
    	//FIRULA PRA GERAR UM CODIGO DO CLIENTE
    	//NECESSARIO ALTERAR PARA GERACAO DE ID BANCO DE DADOS
    	long leftLimit = 1L;
        long rightLimit = 100L;
        long generatedLong = leftLimit + (long) (Math.random() * (rightLimit - leftLimit));      
        //FIRULA PRA GERAR UM CODIGO DO CLIENTE
        
        if(!(cliente.getNome().equals("")) && !(cliente.getCpf().equals(""))){
        	
        	cliente.setStatus("Cliente cadastrado com sucesso!");
        	
        } else {
        	
        	cliente.setId((long) 0);
        	cliente.setStatus("Falha no cadastrado do cliente, dados n√£o preenchidos!");
        }
        
        return cliente;
        
    }

}